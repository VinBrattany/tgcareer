<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>小程序用户信息</title>
    <script th:src="@{/static/jquery-3.3.1/jquery-3.3.1.min.js}" type="text/javascript"></script>
    <link th:href="@{/static/bootstrap-3.3.7-dist/css/bootstrap.min.css}" rel="stylesheet">
    <script th:src="@{/static/bootstrap-3.3.7-dist/js/bootstrap.min.js}" type="text/javascript"></script>
</head>
<body>
<div class="panel panel-default">
    <!-- Default panel contents -->
    <div class="panel-heading">小程序用户信息</div>

    <!-- Table -->
    <table class="table table-bordered table-striped">
        <tr>
            <th>姓名</th>
            <th>职位</th>
        </tr>
        <!--/*@thymesVar id="users" type="java.util.List"*/-->
        <!--/*@thymesVar id="user" type="com.main.tgcareer.modules.user.entity.User"*/-->
        <tr th:each="user: ${users}">
            <td th:text="${user.name}">王</td>
            <td th:text="${user.job}">精算师</td>
        </tr>
    </table>
    <div class="text-center">
    <ul class="pagination pagination-lg" >
        <!--/*@thymesVar id="indexPage" type="java.lang.Integer"*/-->
        <!--/*@thymesVar id="totalPage" type="java.lang.Integer"*/-->
        <li th:class="${indexPage==1}?'disabled' : ''"><a th:href="@{'/salaryList?indexPage=' + ${indexPage-1}}">上一页</a></li>
        <li th:if="${indexPage >=4}" ><a th:href="@{'/salaryList?indexPage=' + ${indexPage-3}}" th:text="${indexPage -3}" >1</a></li>
        <li th:if="${indexPage >=3}" ><a th:href="@{'/salaryList?indexPage=' + ${indexPage-2}}" th:text="${indexPage -2}" >1</a></li>
        <li th:if="${indexPage >=2}" ><a th:href="@{'/salaryList?indexPage=' + ${indexPage-1}}" th:text="${indexPage -1}" >1</a></li>
        <li class="active"><a href="#" th:text="${indexPage}" >1</a></li>
        <li th:if="${indexPage+1 <=totalPage}" ><a th:href="@{'/salaryList?indexPage=' + ${indexPage+1}}" th:text="${indexPage +1}" >1</a></li>
        <li th:if="${indexPage+2 <=totalPage}" ><a th:href="@{'/salaryList?indexPage=' + ${indexPage+2}}" th:text="${indexPage +2}" >1</a></li>
        <li th:if="${indexPage+3 <=totalPage}" ><a th:href="@{'/salaryList?indexPage=' + ${indexPage+3}}" th:text="${indexPage +3}" >1</a></li>

        <li th:class="${indexPage==totalPage}?'disabled' : ''" ><a th:href="@{'/salaryList?indexPage=' + ${indexPage+1}}">下一页</a></li>
    </ul><br>
    </div>
    <table class="text-center" border="0" style="margin-top:4px; margin-left: 18px">
        <tr>
            <td><a href="#" class="easyui-linkbutton" onclick="downloadFile();">数据导出</a></td>

        </tr>
    </table>
</div>
</body>
<script>
    function downloadFile(){
//        var params =
//            [
//                {
//                    id: "0"
//                },
//                {
//                    id: "1"
//                }]
//        var url = "/tgcareer/excel"
//        $.ajax({url: url,
//            type: "POST",
//            data: JSON.stringify(params),
//            contentType:"application/json",
//            success: function(response, status, request) {
//                var disp = request.getResponseHeader('Content-type:application/json;charset=utf-8');
//                if (disp && disp.search('attachment') !== -1) {  //判断是否为文件
//                    var form = $('<form method="POST" action="' + url + '">');
//                    $.each(params, function (k, v) {
//                        form.append($('<input type="hidden" name="' + k +
//                            '" value="' + v + '">'));
//                    });
//                    $('body').append(form);
//                    form.submit(); //自动提交
//                }
//            }
//        })
        window.location.href="/tgcareer/download";

    }
</script>
</html>